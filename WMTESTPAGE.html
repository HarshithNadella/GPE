<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deployment ID Script Loader</title>
</head>
<body>
<h1>Enter Deployment ID</h1>
<input type="text" id="deploymentId" placeholder="Enter Deployment ID">
<button onclick="loadScript()">Submit</button>
 
<script type="text/javascript">
function loadScript() {
var deploymentId = document.getElementById('deploymentId').value;
var scriptContent = `
(function (g, e, n, es, ys) {
g['_genesysJs'] = e;
g[e] = g[e] || function () {
(g[e].q = g[e].q || []).push(arguments)
};
g[e].t = 1 * new Date();
g[e].c = es;
ys = document.createElement('script');
ys.async = 1;
ys.src = n;
ys.charset = 'utf-8';
document.head.appendChild(ys);
})(window, 'Genesys', 'https://apps.euw2.pure.cloud/genesys-bootstrap/genesys.min.js', {
environment: 'prod-euw2',
deploymentId: '` + deploymentId + `'
});
`;
var script = document.createElement('script');
script.type = 'text/javascript';
script.innerHTML = scriptContent;
document.head.appendChild(script);
}
</script>
 
<button onclick="openMessenger()">Open Messenger</button>
 
<script type="text/javascript">
function openMessenger() {
Genesys('subscribe', 'Messenger.ready', function () {
Genesys('command', 'Messenger.open', {}, function() {
// fulfilled callback
console.log('Messenger opened');
}, function(error) {
// rejected callback
console.log("Couldn't open messenger.", error);
});
Genesys('command', 'Database.set', {
messaging: {
customAttributes: {
genesys_url: window.location.href
},
},
});
});
}
</script>
<script id="stratuscx-toolbar-script-deployment" async type="text/javascript" src="https://www.messenger.stratuscx.com/toolbar.min.js" data-publicId='c0113271-0403-4204-8f27-470c6a182e11'></script>
</body>
</html>